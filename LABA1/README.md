1)Задание 1 – Написать сервис, который будет раз в 30 секунд мониторить лог на предмет наличия ключевого слова. Файл и слово должны задаваться в /etc/sysconfig

.Для начала создаём файл с конфигурацией для сервиса в директории
/etc/sysconfig - из неё сервис будет брать необходимые переменные(SentOS)

Что такое service?
Это некоторая программа, которая выполняется в фоне и предоставляет полезную функциональность. К примеру, Apache веб сервер. 
Сервисы можно запускать и останавливать. Некоторые сервисы могут запускаться и останавливаться автоматически по определенным 
событиям (загрузка ОС, выгрузка ОС и тп). Так же их можно запускать/останавливать вручную. Сервис декларируется в 
/etc/systemd/system/my-name.service файлах (с суффиксом “.service”).

Systemd позволяет менять настройки сервисов без модификации оригинальных файлов. Для этого надо:

Создать директорию ниже «/etc/systemd/system/» или в «/lib/systemd/system/» названную «${unit}.d/»
Создать файл <something>.conf в «${unit}.d/» директории, содержащий параметры директив которые вы хотите обновить.

		

		screenshot(config_file(1).png)

.Затем создаем /var/log/watchlog.log и пишем туда строки на своё усмотрение,
плюс ключевое слово ‘ALERT’
		
		screenshot(watchlog_log(2).png)

.Создадим скрипт:
		
		screenshot(script(3).png)
Команда logger отправляет лог в системный журнал


.Создадим юниты для сервиса и для таймера:
		
		screenshot(Units(5).png))


Затем достаточно только запустить timer:
[root@nginx ~#] systemctl start watchlog.timer
И убедиться в результате:
[root@nginx ~#]tail -f /var/log/messages
		
		screenshot(start1(5,5).png)
		screenshot(start2(5,8).png)


2)Задание 2 – Из epel установить spawn-fcgi и переписать init-скрипт на unit-файл. Имя сервиса должно также называться.
		
		screenshot(task2.png)
		
		
		screenshot(spawn-fcgi(6).png)
		
		Юнит-файл:
		screenshot(Spawn-service(7)
		screenshot(final2)
		
2)Задание 3 – Дополнить юнит-файл apache httpd возможностью запустить несколько инстансов сервера с разными конфигами.
			
		screenshot(httpd_service(8)
		screenshot(environment)
		
		httpd_first(9)
		httpd_second(10)
		second_conf(11)
		
	

